<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Spoon Bowl 2026 Draft</title>

<style>
:root{
  --bgTop:#0a2416;
  --bgMid:#0f3a22;
  --bgBot:#145c34;
  --card: rgba(255,255,255,.08);
  --line: rgba(255,255,255,.10);
  --shadow: 0 30px 80px rgba(0,0,0,.55);
  --text: rgba(255,255,255,.92);
  --muted: rgba(255,255,255,.72);
  --accent: #7CFFB7;
}
*{box-sizing:border-box}
body{
  margin:0;
  min-height:100vh;
  font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial;
  color: var(--text);
  background:
    radial-gradient(1200px 700px at 50% 0%, rgba(124,255,183,.18), transparent 60%),
    radial-gradient(900px 500px at 50% 20%, rgba(255,255,255,.08), transparent 60%),
    linear-gradient(180deg, var(--bgTop), var(--bgMid) 45%, var(--bgBot));
  user-select:none;
}
.wrap{max-width:980px;margin:auto;padding:22px 16px 60px}
.hero{border-radius:24px;overflow:hidden;background:var(--card);border:1px solid var(--line);box-shadow:var(--shadow)}
.hero img{width:100%;display:block}
.heroText{text-align:center;padding:18px 16px 20px;background:linear-gradient(180deg, rgba(0,0,0,.18), rgba(0,0,0,.35))}
h1{margin:0 0 8px;font-size:clamp(28px,6vw,42px);font-weight:950}
.sub{margin:0;color:var(--muted);font-weight:750}
.meta{margin:18px auto 10px;max-width:760px;display:grid;grid-template-columns:1fr 1fr;gap:12px}
.metaBox{padding:14px;border-radius:16px;background:rgba(0,0,0,.25);border:1px solid rgba(255,255,255,.10);text-align:center;font-weight:850}
.metaBox strong{display:block;font-size:20px;margin-top:6px;color:var(--accent)}
.section{text-align:center;margin:22px 0 10px;font-weight:950;letter-spacing:.7px}
.board{max-width:860px;margin:auto;border-radius:20px;overflow:hidden;border:1px solid rgba(255,255,255,.10);background:rgba(0,0,0,.20)}
.row{display:flex;align-items:center;gap:14px;padding:14px 16px;border-top:1px solid rgba(255,255,255,.08)}
.row:first-child{border-top:none}
.num{width:44px;height:44px;display:grid;place-items:center;border-radius:12px;background:rgba(124,255,183,.14);border:1px solid rgba(124,255,183,.24);color:var(--accent);font-weight:950}
.name.hidden{opacity:.5}
.name.reveal{opacity:1}
.footer{text-align:center;margin-top:12px;color:rgba(255,255,255,.60);font-size:13px}
</style>
</head>

<body>
<div class="wrap">

  <div class="hero">
    <img src="banner.jpg" alt="Spoon Bowl 2026">
    <div class="heroText">
      <h1>SPOON BOWL 2026 DRAFT</h1>
      <p class="sub">Randomized draft order • Revealed at 4:30pm Brisbane</p>
    </div>
  </div>

  <div class="meta">
    <div class="metaBox">Start Time (Brisbane)<strong>Sunday 4:30 PM</strong></div>
    <div class="metaBox">Countdown<strong id="count">--:--:--</strong></div>
  </div>

  <div class="section">Draft Order</div>
  <div class="board" id="board"></div>

  <div class="footer">Nothing reveals before 4:30pm Brisbane time</div>

</div>

<script>
/* ================== TEAMS ================== */
const teams = [
  "Hakuna Mata'utia",
  "Spooners6",
  "CSFC91",
  "Schmidsgoat",
  "SeaEaglesChamps2025",
  "Nate’s Stars",
  "Multiple Scoregasams",
  "Strat",
  "The Casualty Ward Deadbeats",
  "irhysistable"
];

const INTERVAL_MS = 2000;

/* ========== BUILD BOARD (ALL HIDDEN) ========== */
const board = document.getElementById("board");
const nameEls = [];
teams.forEach((_,i)=>{
  const r=document.createElement("div");
  r.className="row";
  r.innerHTML=`<div class="num">${i+1}</div><div class="name hidden">Hidden</div>`;
  board.appendChild(r);
  nameEls.push(r.querySelector(".name"));
});

/* ========== CORRECT BRISBANE TIME ========== */
function nextSunday430BrisbaneUtcMs(){
  const fmt = new Intl.DateTimeFormat("en-AU", {
    timeZone: "Australia/Brisbane",
    weekday: "short",
    year: "numeric",
    month: "2-digit",
    day: "2-digit",
    hour: "2-digit",
    minute: "2-digit",
    hour12: false
  });

  const parts = Object.fromEntries(fmt.formatToParts(new Date()).map(p=>[p.type,p.value]));
  const dowMap={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};
  let days = (7 - dowMap[parts.weekday]) % 7;

  if(days===0 && (parts.hour>16 || (parts.hour==16 && parts.minute>=30))) days=7;

  const base = new Date(Date.UTC(parts.year, parts.month-1, parts.day));
  base.setUTCDate(base.getUTCDate()+days);

  return Date.UTC(
    base.getUTCFullYear(),
    base.getUTCMonth(),
    base.getUTCDate(),
    6,30,0,0   // 16:30 Brisbane = 06:30 UTC
  );
}

const revealUtcMs = nextSunday430BrisbaneUtcMs();

/* ========== SHUFFLE (ONCE) ========== */
const order = teams
  .map(v=>({v, r:crypto.getRandomValues(new Uint32Array(1))[0]}))
  .sort((a,b)=>a.r-b.r)
  .map(x=>x.v);

/* ========== RENDER LOGIC ========== */
let started=false;
let startTime=0;

function render(){
  if(Date.now()<revealUtcMs || !started) return;

  const elapsed = Date.now() - startTime;
  const shown = Math.min(order.length, Math.floor(elapsed/INTERVAL_MS));

  for(let i=0;i<shown;i++){
    nameEls[i].textContent=order[i];
    nameEls[i].classList.remove("hidden");
    nameEls[i].classList.add("reveal");
  }
}

/* ========== COUNTDOWN ========== */
function pad(n){return String(n).padStart(2,"0")}
const count=document.getElementById("count");

setInterval(()=>{
  const diff = revealUtcMs - Date.now();
  if(diff<=0){
    count.textContent="00:00:00";
    if(!started){
      started=true;
      startTime=revealUtcMs;
    }
    render();
    return;
  }
  const h=Math.floor(diff/36e5);
  const m=Math.floor(diff%36e5/6e4);
  const s=Math.floor(diff%6e4/1e3);
  count.textContent=`${pad(h)}:${pad(m)}:${pad(s)}`;
},500);
</script>
</body>
</html>
